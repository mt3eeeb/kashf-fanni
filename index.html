<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ÙƒØ´Ù ÙÙ†ÙŠ</title>

<style>
  body {
    font-family: "Tahoma", Arial;
    background: #f4f8f5;
    margin: 0;
    padding: 20px;
    color: #1f2933;
  }

  .page {
    background: #ffffff;
    padding: 25px;
    max-width: 900px;
    margin: auto;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.08);
  }

  /* ===== Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ===== */
  .header {
    text-align: center;
    margin-bottom: 25px;
  }

  .header h1 {
    margin: 0;
    font-size: 22px;
    color: #2e7d32; /* Ø£Ø®Ø¶Ø± */
  }

  .header h2 {
    margin: 8px 0 0;
    font-size: 18px;
    color: #355f3b;
  }

  /* ===== Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ===== */
  h3 {
    border-bottom: 2px solid #2e7d32;
    padding-bottom: 5px;
    margin-bottom: 15px;
    font-size: 16px;
    color: #2e7d32;
  }

  .row {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
  }

  input {
    padding: 8px;
    font-size: 14px;
    min-width: 200px;
    border: 1px solid #a5d6a7;
    border-radius: 4px;
  }

  input:focus {
    outline: none;
    border-color: #2e7d32;
    box-shadow: 0 0 0 2px rgba(46,125,50,0.15);
  }

  @media print {
    body {
      background: white;
      padding: 0;
    }
    .page {
      box-shadow: none;
      border-radius: 0;
    }
  }
</style>
</head>

<body>

<div class="page">

  <!-- ===== Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„ØµÙØ­Ø© ===== -->
  <div class="header">
    <h1>Ù…ÙƒØªØ¨ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ© Ø¨Ù…Ø­Ø§ÙØ¸Ø© Ù‚Ø±ÙŠØ© Ø§Ù„Ø¹Ù„ÙŠØ§</h1>
    <h2>ÙƒØ´Ù ÙÙ†ÙŠ</h2>
  </div>

  <!-- ===== Ø¨Ù†Ø¯ 1: Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ===== -->
  <section id="generalData">
    <h3>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h3>

    <div class="row">
      <input type="text" id="clientName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
      <input type="text" id="orderNumber" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨">
      <input type="date" id="visitDate">
    </div>
  </section>

</div>

<script>
/* ===== Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ â€“ Ø¨Ù†Ø¯ 1 ===== */

const fields = ["clientName", "orderNumber", "visitDate"];

document.addEventListener("DOMContentLoaded", () => {
  fields.forEach(id => {
    const saved = localStorage.getItem(id);
    if (saved) document.getElementById(id).value = saved;
  });
});

fields.forEach(id => {
  document.addEventListener("input", e => {
    if (e.target.id === id) {
      localStorage.setItem(id, e.target.value);
    }
  });
});
</script>

</body>
</html>
<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ÙƒØ´Ù ÙÙ†ÙŠ</title>

<style>
  body {
    font-family: Tahoma, Arial;
    direction: rtl;
    background: #f4f8f4;
    margin: 0;
    padding: 0;
  }

  .page {
    width: 90%;
    margin: 20px auto;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    border-top: 6px solid #1b7f3a;
  }

  h1, h2, h3 {
    color: #1b7f3a;
    margin-top: 0;
  }

  .header {
    text-align: center;
    margin-bottom: 25px;
  }

  .row {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    align-items: center;
  }

  input {
    padding: 6px;
    width: 160px;
  }

  button {
    padding: 6px 10px;
    background: #1b7f3a;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  button:hover {
    opacity: 0.85;
  }
</style>
</head>

<body>

<div class="page">

  <!-- ===== Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„ØµÙØ­Ø© ===== -->
  <div class="header">
    <h1>Ù…ÙƒØªØ¨ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ© Ø¨Ù…Ø­Ø§ÙØ¸Ø© Ù‚Ø±ÙŠØ© Ø§Ù„Ø¹Ù„ÙŠØ§</h1>
    <h2>ÙƒØ´Ù ÙÙ†ÙŠ</h2>
  </div>

  <!-- ===== Ø¨Ù†Ø¯ 2: Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„ ===== -->
  <section id="recordCoords">
    <h3>Ø¨Ù†Ø¯ 2: Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„</h3>

    <div class="row">
      <input type="number" step="any" id="recordLat" placeholder="Latitude">
      <input type="number" step="any" id="recordLng" placeholder="Longitude">

      <button type="button" onclick="locateRecord()">ğŸ“ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
      <button type="button" onclick="openRecordMap()">ğŸ—ºï¸ Ø§Ù„ÙˆØµÙˆÙ„</button>
      <button type="button" onclick="clearRecord()">âœ– Ø­Ø°Ù</button>
    </div>
  </section>

</div>

<script>
/* ===== Ø¨Ù†Ø¯ 2: Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„ ===== */

const recordLat = document.getElementById("recordLat");
const recordLng = document.getElementById("recordLng");

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
document.addEventListener("DOMContentLoaded", function () {
  if (localStorage.getItem("recordLat"))
    recordLat.value = localStorage.getItem("recordLat");

  if (localStorage.getItem("recordLng"))
    recordLng.value = localStorage.getItem("recordLng");
});

// Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ
recordLat.addEventListener("input", function () {
  localStorage.setItem("recordLat", recordLat.value);
});

recordLng.addEventListener("input", function () {
  localStorage.setItem("recordLng", recordLng.value);
});

// ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹
function locateRecord() {
  if (!navigator.geolocation) {
    alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹");
    return;
  }

  navigator.geolocation.getCurrentPosition(function (pos) {
    recordLat.value = pos.coords.latitude.toFixed(6);
    recordLng.value = pos.coords.longitude.toFixed(6);
    localStorage.setItem("recordLat", recordLat.value);
    localStorage.setItem("recordLng", recordLng.value);
  });
}

// ÙØªØ­ Google Maps
function openRecordMap() {
  if (!recordLat.value || !recordLng.value) {
    alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø£ÙˆÙ„Ø§Ù‹");
    return;
  }

  window.open(
    "https://www.google.com/maps?q=" +
      recordLat.value +
      "," +
      recordLng.value,
    "_blank"
  );
}

// Ø­Ø°Ù
function clearRecord() {
  recordLat.value = "";
  recordLng.value = "";
  localStorage.removeItem("recordLat");
  localStorage.removeItem("recordLng");
}
</script>

</body>
</html>