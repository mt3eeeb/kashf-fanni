<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ÙƒØ´Ù ÙÙ†ÙŠ</title>

<style>
body{
    font-family: Tahoma, Arial;
    background:#f4f4f4;
    margin:0;
}
.container{
    max-width:900px;
    margin:auto;
    background:#fff;
    padding:15px;
}
.header{text-align:center;margin-bottom:20px;}
.header small{display:block;font-size:13px;margin-bottom:5px;}
.section{margin-bottom:20px;}
.section h3{
    background:#2ecc71;
    color:#fff;
    padding:8px;
    margin:0 0 10px;
}
.row{display:flex;gap:5px;margin-bottom:5px;}
input{flex:1;padding:6px;}
button{padding:8px;border:none;cursor:pointer;}
.add{background:#2ecc71;color:#fff;}
.del{background:#e74c3c;color:#fff;}
.gray{background:#ddd;}
.small-btn{width:100%;}
.center{text-align:center;}
.result{
    background:#eee;
    padding:8px;
    page-break-inside:avoid;
}

@media print{
  button{display:none;}
  .page-break{page-break-before:always;}
}
</style>
</head>

<body>
<div class="container">

<div class="header">
    <small>Ù…ÙƒØªØ¨ Ù…Ø­Ø§ÙØ¸Ø© Ù‚Ø±ÙŠØ© Ø§Ù„Ø¹Ù„ÙŠØ§</small>
    <h1>ÙƒØ´Ù ÙÙ†ÙŠ</h1>
</div>

<!-- Ø§Ù„ØµÙØ­Ø© 1 -->
<div class="section">
<h3>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h3>
<input placeholder="Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„">
<input placeholder="Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨">
<input type="date">
</div>

<div class="section">
<h3>Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„</h3>
<div class="row">
<input placeholder="Lat Ù‚Ø¨Ù„">
<input placeholder="Lat Ø¨Ø¹Ø¯">
<input placeholder="Lng Ù‚Ø¨Ù„">
<input placeholder="Lng Ø¨Ø¹Ø¯">
</div>
<button class="gray small-btn">ÙØªØ­ Google Maps</button>
</div>

<div class="section">
<h3>Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©</h3>
<div class="row">
<input placeholder="Lat Ù‚Ø¨Ù„">
<input placeholder="Lat Ø¨Ø¹Ø¯">
<input placeholder="Lng Ù‚Ø¨Ù„">
<input placeholder="Lng Ø¨Ø¹Ø¯">
</div>
</div>

<div class="section">
<h3>Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</h3>
<div id="corners"></div>
<button class="add small-btn" onclick="addCorner()">+ Ø¥Ø¶Ø§ÙØ© Ø²Ø§ÙˆÙŠØ©</button>
<button class="gray small-btn" onclick="calcArea()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³Ø§Ø­Ø©</button>
<div id="areaResult" class="result"></div>
</div>

<div class="page-break"></div>

<!-- Ø§Ù„ØµÙØ­Ø© 2 -->
<div class="section">
<h3>Ø§Ù„Ø¢Ø¨Ø§Ø±</h3>
<div id="wells"></div>
<button class="add small-btn" onclick="addWell()">+ Ø¥Ø¶Ø§ÙØ© Ø¨Ø¦Ø±</button>
</div>

<div class="section">
<h3>Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠ</h3>
<div id="irrigation"></div>
<button class="add small-btn" onclick="addIrrigation()">+ Ø¥Ø¶Ø§ÙØ© Ù†Ø¸Ø§Ù… Ø±ÙŠ</button>
</div>

<div class="section">
<h3>Ø§Ù„Ù…Ø²Ø±ÙˆØ¹Ø§Øª</h3>
<div id="crops"></div>
<button class="add small-btn" onclick="addCrop()">+ Ø¥Ø¶Ø§ÙØ© Ù…Ø²Ø±ÙˆØ¹</button>
</div>

<div class="section">
<h3>Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø§Øª</h3>
<div id="assets"></div>
<button class="add small-btn" onclick="addAsset()">+ Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¬ÙˆØ¯</button>
</div>

<div class="section">
<h3>Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø­Ø«</h3>
<input placeholder="Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø­Ø«">
</div>

<div class="section center">
<button class="gray" onclick="beforePrint()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© PDF</button>
</div>

</div>

<script>
function coordRow(){
return `<div class="row">
<input><input><input><input>
<button class="del" onclick="this.parentElement.remove()">âˆ’</button>
</div>`;
}
function addCorner(){corners.innerHTML+=coordRow();}
function addWell(){wells.innerHTML+=coordRow();}
function addIrrigation(){irrigation.innerHTML+=`<div class="row"><input><input><input></div>`;}
function addCrop(){crops.innerHTML+=`<div class="row"><input><input></div>`;}
function addAsset(){assets.innerHTML+=`<div class="row"><input><input></div>`;}

function beforePrint(){
document.querySelectorAll(".row").forEach(r=>{
    let filled=false;
    r.querySelectorAll("input").forEach(i=>{
        if(i.value.trim()!=="") filled=true;
    });
    if(!filled) r.style.display="none";
});

document.querySelectorAll(".section").forEach(sec=>{
    let hasVisible=false;
    sec.querySelectorAll(".row, input").forEach(e=>{
        if(e.offsetParent!==null && e.value?.trim()!=="") hasVisible=true;
    });
    if(!hasVisible && !sec.querySelector("h3")) sec.style.display="none";
});

window.print();
}
</script>

</body>
</html>