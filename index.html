<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ÙƒØ´Ù ÙÙ†ÙŠ</title>

<style>
body{font-family:Arial;direction:rtl;background:#f5f5f5;padding:15px}
h2{background:#2c7;color:#fff;padding:10px}
.box{background:#fff;padding:15px;margin-bottom:20px;border-radius:8px}
input,textarea,button{width:100%;margin:5px 0;padding:6px}
.row{display:flex;gap:5px}
.row input{flex:1}
.add{background:#2c7;color:#fff}
.remove{background:#e74c3c;color:#fff}
.small{font-size:13px;color:#555}
.item{border:1px dashed #ccc;padding:8px;margin:8px 0;border-radius:6px}
</style>
</head>

<body>

<h2>ÙƒØ´Ù ÙÙ†ÙŠ</h2>

<!-- Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø§Ù…Ø© -->
<div class="box">
<label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label><input>
<label>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</label><input>
<label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø²ÙŠØ§Ø±Ø©</label><input type="date">
</div>

<!-- Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„ -->
<div class="box">
<h3>Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„</h3>
<div class="row">
<input id="reg_lat1" placeholder="Lat Ù‚Ø¨Ù„">
<input id="reg_lat2" placeholder="Lat Ø¨Ø¹Ø¯">
<input id="reg_lng1" placeholder="Lng Ù‚Ø¨Ù„">
<input id="reg_lng2" placeholder="Lng Ø¨Ø¹Ø¯">
</div>
<button onclick="openGoogle()">ÙØªØ­ Google Maps</button>
<button onclick="openGarmin()">ÙØªØ­ Garmin</button>
</div>

<!-- Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø²Ø±Ø¹Ø© -->
<div class="box">
<h3>Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</h3>
<div id="corners"></div>
<button class="add" onclick="addCorner()">+ Ø¥Ø¶Ø§ÙØ© Ø²Ø§ÙˆÙŠØ©</button>
<p id="areaResult" class="small"></p>
</div>

<!-- Ø§Ù„Ø¢Ø¨Ø§Ø± -->
<div class="box">
<h3>Ø§Ù„Ø¢Ø¨Ø§Ø± (Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª)</h3>
<div id="wells"></div>
<button class="add" onclick="addWell()">+ Ø¥Ø¶Ø§ÙØ© Ø¨Ø¦Ø±</button>
</div>

<!-- Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠ -->
<div class="box">
<h3>Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠ</h3>
<div id="irrigation"></div>
<button class="add" onclick="addIrrigation()">+ Ø¥Ø¶Ø§ÙØ© Ù†Ø¸Ø§Ù… Ø±ÙŠ</button>
</div>

<!-- Ø§Ù„Ù…Ø²Ø±ÙˆØ¹Ø§Øª -->
<div class="box">
<h3>Ø§Ù„Ù…Ø²Ø±ÙˆØ¹Ø§Øª</h3>
<div id="crops"></div>
<button class="add" onclick="addCrop()">+ Ø¥Ø¶Ø§ÙØ© Ù…Ø²Ø±ÙˆØ¹</button>
</div>

<!-- Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø§Øª -->
<div class="box">
<h3>Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø§Øª</h3>
<div id="assets"></div>
<button class="add" onclick="addAsset()">+ Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¬ÙˆØ¯</button>
</div>

<!-- Ø§Ù„Ø¨Ø§Ø­Ø« -->
<div class="box">
<label>Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø­Ø«</label>
<input>
</div>

<button onclick="window.print()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© / PDF</button>

<script>
function openGoogle(){
 const lat=reg_lat1.value+"."+reg_lat2.value;
 const lng=reg_lng1.value+"."+reg_lng2.value;
 window.open(`https://maps.google.com/?q=${lat},${lng}`);
}

function openGarmin(){
 const lat=reg_lat1.value+"."+reg_lat2.value;
 const lng=reg_lng1.value+"."+reg_lng2.value;
 window.open(`https://explore.garmin.com/map?lat=${lat}&lng=${lng}`);
}

function addCorner(){
 const d=document.createElement("div");
 d.className="item";
 d.innerHTML=`
 <div class="row">
  <input placeholder="Lat Ù‚Ø¨Ù„">
  <input placeholder="Lat Ø¨Ø¹Ø¯">
  <input placeholder="Lng Ù‚Ø¨Ù„">
  <input placeholder="Lng Ø¨Ø¹Ø¯">
 </div>
 <button class="remove" onclick="this.parentElement.remove();calcArea()">âˆ’ Ø­Ø°Ù</button>
 `;
 corners.appendChild(d);
}

function addWell(){
 const d=document.createElement("div");
 d.className="item";
 d.innerHTML=`
 <div class="row">
  <input placeholder="Lat Ù‚Ø¨Ù„">
  <input placeholder="Lat Ø¨Ø¹Ø¯">
  <input placeholder="Lng Ù‚Ø¨Ù„">
  <input placeholder="Lng Ø¨Ø¹Ø¯">
 </div>
 <button class="remove" onclick="this.parentElement.remove()">âˆ’ Ø­Ø°Ù</button>
 `;
 wells.appendChild(d);
}

function addIrrigation(){
 const d=document.createElement("div");
 d.className="item";
 d.innerHTML=`
 <input placeholder="Ù†ÙˆØ¹ Ø§Ù„Ù†Ø¸Ø§Ù… (Ø±Ø´Ø§Ø´ Ù…Ø­ÙˆØ±ÙŠ / ØªÙ†Ù‚ÙŠØ· / ØºÙ…Ø±)">
 <input placeholder="Ø¹Ø¯Ø¯ / Ù…Ø­Ø§ÙˆØ±">
 <input placeholder="Ø§Ù„Ù…Ø³Ø§Ø­Ø©">
 <button class="remove" onclick="this.parentElement.remove()">âˆ’ Ø­Ø°Ù</button>
 `;
 irrigation.appendChild(d);
}

function addCrop(){
 const d=document.createElement("div");
 d.className="item";
 d.innerHTML=`
 <input placeholder="Ù†ÙˆØ¹ Ø§Ù„Ù…Ø²Ø±ÙˆØ¹">
 <input placeholder="Ø§Ù„Ø¹Ø¯Ø¯">
 <input placeholder="Ø§Ù„Ù…Ø³Ø§Ø­Ø©">
 <button class="remove" onclick="this.parentElement.remove()">âˆ’ Ø­Ø°Ù</button>
 `;
 crops.appendChild(d);
}

function addAsset(){
 const d=document.createElement("div");
 d.className="item";
 d.innerHTML=`
 <input placeholder="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯">
 <textarea placeholder="ÙˆØµÙ / Ù…Ù„Ø§Ø­Ø¸Ø§Øª"></textarea>
 <button class="remove" onclick="this.parentElement.remove()">âˆ’ Ø­Ø°Ù</button>
 `;
 assets.appendChild(d);
}

function calcArea(){
 let pts=[];
 document.querySelectorAll("#corners .row").forEach(r=>{
  const i=r.querySelectorAll("input");
  if(i[0].value&&i[1].value&&i[2].value&&i[3].value){
   pts.push([
    parseFloat(i[0].value+"."+i[1].value),
    parseFloat(i[2].value+"."+i[3].value)
   ]);
  }
 });
 if(pts.length<3){areaResult.innerText="";return;}
 let area=0;
 for(let i=0;i<pts.length;i++){
  let j=(i+1)%pts.length;
  area+=pts[i][0]*pts[j][1]-pts[j][0]*pts[i][1];
 }
 area=Math.abs(area/2)*111000*111000;
 areaResult.innerText="Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ©: "+Math.round(area)+" Ù…Â²";
}
</script>

</body>
</html>
