// ===== Ø¨Ù†Ø¯ 5 : Ø§Ù„Ø¢Ø¨Ø§Ø± =====
let wells = JSON.parse(localStorage.getItem("wells")) || [];

function addWell() {
  wells.push({ lat: "", lng: "" });
  saveWells();
  renderWells();
}

function removeWell(index) {
  wells.splice(index, 1);
  saveWells();
  renderWells();
}

function updateWell(index, field, value) {
  wells[index][field] = value;
  saveWells();
}

function openWellMap(index) {
  const w = wells[index];
  if (!w.lat || !w.lng) {
    alert("Ø£Ø¯Ø®Ù„ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø¨Ø¦Ø± Ø£ÙˆÙ„Ø§Ù‹");
    return;
  }
  window.open(
    `https://www.google.com/maps?q=${w.lat},${w.lng}`,
    "_blank"
  );
}

function saveWells() {
  localStorage.setItem("wells", JSON.stringify(wells));
}

function renderWells() {
  const container = document.getElementById("wellsContainer");
  container.innerHTML = "";

  wells.forEach((w, i) => {
    container.innerHTML += `
      <div style="margin-bottom:8px">
        Lat:
        <input type="number" step="any"
          value="${w.lat}"
          oninput="updateWell(${i}, 'lat', this.value)">
        
        Lng:
        <input type="number" step="any"
          value="${w.lng}"
          oninput="updateWell(${i}, 'lng', this.value)">

        <button onclick="openWellMap(${i})">ðŸ—º</button>
        <button onclick="removeWell(${i})">âˆ’</button>
      </div>
    `;
  });
}

// Ø£ÙˆÙ„ ØªØ­Ù…ÙŠÙ„
renderWells();