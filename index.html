<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ูุดู ููู - ุตูุฏูู ุงูุชูููุฉ ุงูุฒุฑุงุนูุฉ</title>

<style>
body{
  font-family: Tahoma;
  background:#f4f4f4;
  margin:0;
  padding:20px;
}
.section{
  background:#fff;
  padding:15px;
  border-radius:6px;
  margin-bottom:15px;
}
.section h3{
  background:#2ecc71;
  color:#fff;
  padding:8px;
  margin:-15px -15px 15px -15px;
}
.row{
  display:flex;
  gap:10px;
}
.field{ flex:1; }
label{ font-size:13px; display:block; margin-bottom:3px; }
input, select, textarea{
  width:100%;
  padding:7px;
  box-sizing:border-box;
}
button{ padding:6px 10px; margin:3px }
.box{
  border:1px solid #ccc;
  padding:10px;
  margin-bottom:10px;
  background:#fafafa;
}
@media print{
  button{ display:none }
}
</style>
</head>

<body>

<h2 style="text-align:center">
ููุชุจ ุตูุฏูู ุงูุชูููุฉ ุงูุฒุฑุงุนูุฉ ุจูุญุงูุธุฉ ูุฑูุฉ ุงูุนููุง<br>
<span style="font-size:16px">ูุดู ููู</span>
</h2>

<!-- ุจูุฏ 1 -->
<div class="section">
<h3>ุงูุจูุงูุงุช ุงูุนุงูุฉ</h3>
<div class="row">
  <div class="field">
    <label>ุงุณู ุงูุนููู</label>
    <input id="clientName">
  </div>
  <div class="field">
    <label>ุฑูู ุงูุทูุจ</label>
    <input id="orderNumber">
  </div>
  <div class="field">
    <label>ุชุงุฑูุฎ ุงูุฒูุงุฑุฉ</label>
    <input type="date" id="visitDate">
  </div>
</div>
</div>

<!-- ุจูุฏ 2 -->
<div class="section">
<h3>ุฅุญุฏุงุซูุงุช ุงูุณุฌู</h3>
<div class="row">
  <input id="recordLat" placeholder="Latitude">
  <input id="recordLng" placeholder="Longitude">
</div>
<button onclick="openMap('recordLat','recordLng')">๐บ๏ธ ุงููุตูู</button>
</div>

<!-- ุจูุฏ 3 -->
<div class="section">
<h3>ุฅุญุฏุงุซูุฉ ุงูุจูุงุจุฉ</h3>
<div class="row">
  <input id="gateLat" placeholder="Latitude">
  <input id="gateLng" placeholder="Longitude">
</div>
<button onclick="getLocation('gateLat','gateLng')">๐ ุชุญุฏูุฏ ุงููููุน</button>
<button onclick="openMap('gateLat','gateLng')">๐บ๏ธ ุงููุตูู</button>
</div>

<!-- ุจูุฏ 4 -->
<div class="section">
<h3>ุฒูุงูุง ุงููุฒุฑุนุฉ</h3>
<div id="corners"></div>
<button onclick="addCorner()">+ ุฅุถุงูุฉ ุฒุงููุฉ</button>
<button onclick="calcPolygon()">ุญุณุงุจ ุงููุณุงุญุฉ</button>
<div id="results"></div>
</div>

<!-- ุจูุฏ 5 -->
<div class="section">
<h3>ุงูุขุจุงุฑ</h3>
<div id="wellsContainer"></div>
<button onclick="addWell()">+ ุฅุถุงูุฉ ุจุฆุฑ</button>
</div>

<!-- ุจูุฏ 6 -->
<div class="section">
<h3>ูุธุงู ุงูุฑู</h3>
<div id="irrigationContainer"></div>
<button onclick="addIrrigation()">+ ุฅุถุงูุฉ ูุธุงู ุฑู</button>
</div>

<!-- ุจูุฏ 7 -->
<div class="section">
<h3>ุงููุฒุฑูุนุงุช</h3>
<div id="cropsContainer"></div>
<button onclick="addCrop()">+ ุฅุถุงูุฉ ูุฒุฑูุน</button>
</div>

<!-- ุจูุฏ 8 -->
<div class="section">
<h3>ุงูููุฌูุฏุงุช</h3>
<div id="assetsContainer"></div>
<button onclick="addAsset()">+ ุฅุถุงูุฉ ููุฌูุฏ</button>
</div>

<!-- ุจูุฏ 9 -->
<div class="section">
<h3>ุจูุงูุงุช ุงูุจุงุญุซ</h3>
<input id="researcherName" placeholder="ุงุณู ุงูุจุงุญุซ">
<br><br>
<button onclick="saveAll()">๐พ ุญูุธ</button>
<button onclick="clearAll()">๐๏ธ ูุณุญ</button>
<button onclick="window.print()">๐จ๏ธ ุทุจุงุนุฉ</button>
</div>

<script>
/* ุฃุฏูุงุช ุนุงูุฉ */
function openMap(lat,lng){
  const la=document.getElementById(lat).value;
  const ln=document.getElementById(lng).value;
  if(!la||!ln){alert("ุฃุฏุฎู ุงูุฅุญุฏุงุซูุงุช");return;}
  window.open(`https://www.google.com/maps?q=${la},${ln}`);
}
function getLocation(lat,lng){
  navigator.geolocation.getCurrentPosition(p=>{
    document.getElementById(lat).value=p.coords.latitude.toFixed(6);
    document.getElementById(lng).value=p.coords.longitude.toFixed(6);
  });
}

/* ุญูุธ ุชููุงุฆู ููู ุงูุญููู */
document.querySelectorAll("input,textarea,select").forEach(el=>{
  const k=el.id;
  if(!k) return;
  el.value=localStorage.getItem(k)||"";
  el.oninput=()=>localStorage.setItem(k,el.value);
});

/* ูุณุญ */
function clearAll(){
  if(confirm("ูุณุญ ูู ุงูุจูุงูุงุชุ")){
    localStorage.clear();
    location.reload();
  }
}
function saveAll(){
  alert("ุชู ุญูุธ ุงูุจูุงูุงุช โ");
}
</script>

</body>
</html>