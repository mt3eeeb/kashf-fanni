<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ÙƒØ´Ù ÙÙ†ÙŠ</title>

<style>
  body {
    font-family: Tahoma, Arial;
    direction: rtl;
    background: #f4f8f4;
    margin: 0;
    padding: 0;
  }

  .page {
    width: 90%;
    margin: 20px auto;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    border-top: 6px solid #1b7f3a;
  }

  h1, h2, h3 {
    color: #1b7f3a;
    margin-top: 0;
  }

  .header {
    text-align: center;
    margin-bottom: 25px;
  }

  .row {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    align-items: center;
  }

  input {
    padding: 6px;
    width: 160px;
  }

  button {
    padding: 6px 10px;
    background: #1b7f3a;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  button:hover {
    opacity: 0.85;
  }
</style>
</head>

<body>

<div class="page">

  <!-- ===== Ù…Ù‚Ø¯Ù…Ø© Ø§Ù„ØµÙØ­Ø© ===== -->
  <div class="header">
    <h1>Ù…ÙƒØªØ¨ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ© Ø¨Ù…Ø­Ø§ÙØ¸Ø© Ù‚Ø±ÙŠØ© Ø§Ù„Ø¹Ù„ÙŠØ§</h1>
    <h2>ÙƒØ´Ù ÙÙ†ÙŠ</h2>
  </div>

  <!-- ===== Ø¨Ù†Ø¯ 2: Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„ ===== -->
  <section id="recordCoords">
    <h3>Ø¨Ù†Ø¯ 2: Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„</h3>

    <div class="row">
      <input type="number" step="any" id="recordLat" placeholder="Latitude">
      <input type="number" step="any" id="recordLng" placeholder="Longitude">

      <button type="button" onclick="locateRecord()">ğŸ“ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
      <button type="button" onclick="openRecordMap()">ğŸ—ºï¸ Ø§Ù„ÙˆØµÙˆÙ„</button>
      <button type="button" onclick="clearRecord()">âœ– Ø­Ø°Ù</button>
    </div>
  </section>

</div>

<script>
/* ===== Ø¨Ù†Ø¯ 2: Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„ ===== */

const recordLat = document.getElementById("recordLat");
const recordLng = document.getElementById("recordLng");

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
document.addEventListener("DOMContentLoaded", function () {
  if (localStorage.getItem("recordLat"))
    recordLat.value = localStorage.getItem("recordLat");

  if (localStorage.getItem("recordLng"))
    recordLng.value = localStorage.getItem("recordLng");
});

// Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ
recordLat.addEventListener("input", function () {
  localStorage.setItem("recordLat", recordLat.value);
});

recordLng.addEventListener("input", function () {
  localStorage.setItem("recordLng", recordLng.value);
});

// ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹
function locateRecord() {
  if (!navigator.geolocation) {
    alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹");
    return;
  }

  navigator.geolocation.getCurrentPosition(function (pos) {
    recordLat.value = pos.coords.latitude.toFixed(6);
    recordLng.value = pos.coords.longitude.toFixed(6);
    localStorage.setItem("recordLat", recordLat.value);
    localStorage.setItem("recordLng", recordLng.value);
  });
}

// ÙØªØ­ Google Maps
function openRecordMap() {
  if (!recordLat.value || !recordLng.value) {
    alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø£ÙˆÙ„Ø§Ù‹");
    return;
  }

  window.open(
    "https://www.google.com/maps?q=" +
      recordLat.value +
      "," +
      recordLng.value,
    "_blank"
  );
}

// Ø­Ø°Ù
function clearRecord() {
  recordLat.value = "";
  recordLng.value = "";
  localStorage.removeItem("recordLat");
  localStorage.removeItem("recordLng");
}
</script>

</body>
</html>