<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>ÙƒØ´Ù ÙÙ†ÙŠ Ø²Ø±Ø§Ø¹ÙŠ</title>

<style>
body{font-family:Arial;direction:rtl;background:#f2f2f2;margin:0;padding:10px}
h1,h2{background:#2ecc71;color:#fff;padding:10px;border-radius:6px}
.section{background:#fff;padding:10px;margin-bottom:10px;border-radius:6px}
label{font-weight:bold}
input,select{width:100%;padding:6px;margin:4px 0}
button{padding:6px 12px;margin:4px}
.box{border:1px solid #ddd;padding:6px;margin-bottom:6px;border-radius:5px}
.result{background:#fafafa;padding:6px;border-radius:5px}
hr{border:none;border-top:1px solid #ddd;margin:10px 0}
</style>
</head>

<body>

<h1>ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ© â€“ Ù…ÙƒØªØ¨ Ù…Ø­Ø§ÙØ¸Ø© Ù‚Ø±ÙŠØ© Ø§Ù„Ø¹Ù„ÙŠØ§<br>ÙƒØ´Ù ÙÙ†ÙŠ</h1>

<!-- 1 Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© -->
<div class="section">
<h2>1ï¸âƒ£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h2>
<label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
<input id="client">
<label>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</label>
<input id="order">
<label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø²ÙŠØ§Ø±Ø©</label>
<input type="date" id="date">
</div>

<!-- 2 Ø§Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„ -->
<div class="section">
<h2>2ï¸âƒ£ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„</h2>
<input id="regLat" placeholder="Latitude">
<input id="regLng" placeholder="Longitude">
<button onclick="getLoc('regLat','regLng')">ğŸ“ ØªØ­Ø¯ÙŠØ¯</button>
<button onclick="openMap('regLat','regLng')">ğŸ—ºï¸ Ù‚ÙˆÙ‚Ù„ Ù…Ø§Ø¨</button>
</div>

<!-- 3 Ø§Ø­Ø¯Ø§Ø«ÙŠØ© Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© -->
<div class="section">
<h2>3ï¸âƒ£ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ© Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©</h2>
<input id="gateLat" placeholder="Latitude">
<input id="gateLng" placeholder="Longitude">
<button onclick="getLoc('gateLat','gateLng')">ğŸ“ ØªØ­Ø¯ÙŠØ¯</button>
<button onclick="openMap('gateLat','gateLng')">ğŸ—ºï¸ Ù‚ÙˆÙ‚Ù„ Ù…Ø§Ø¨</button>
</div>

<!-- 4 Ø²ÙˆØ§ÙŠØ§ -->
<div class="section">
<h2>4ï¸âƒ£ Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</h2>
<div id="corners"></div>
<button onclick="calcArea()">Ø­Ø³Ø§Ø¨</button>
<div id="areaResult" class="result"></div>
</div>

<!-- 5 Ø§Ù„Ø¢Ø¨Ø§Ø± -->
<div class="section">
<h2>5ï¸âƒ£ Ø§Ù„Ø¢Ø¨Ø§Ø±</h2>
<div id="wells"></div>
<button onclick="addWell()">+ Ø¥Ø¶Ø§ÙØ© Ø¨Ø¦Ø±</button>
</div>

<!-- 6 Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠ -->
<div class="section">
<h2>6ï¸âƒ£ Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠ</h2>
<select id="irrigation">
<option>Ù…Ø­ÙˆØ±ÙŠ</option>
<option>ØªÙ†Ù‚ÙŠØ·</option>
<option>Ø±Ø´</option>
</select>
<input id="towerLen" placeholder="Ø·ÙˆÙ„ Ø§Ù„Ø¨Ø±Ø¬ (Ù…)">
<input id="cropType" placeholder="Ù†ÙˆØ¹ Ø§Ù„Ù…Ø²Ø±ÙˆØ¹">
</div>

<!-- 7 Ø§Ù„Ù…Ø²Ø±ÙˆØ¹Ø§Øª -->
<div class="section">
<h2>7ï¸âƒ£ Ø§Ù„Ù…Ø²Ø±ÙˆØ¹Ø§Øª</h2>
<input id="cropName" placeholder="Ù†ÙˆØ¹ Ø§Ù„Ù…Ø²Ø±ÙˆØ¹">
<input id="cropCount" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø´ØªÙ„Ø§Øª">
<input id="cropArea" placeholder="Ù…Ø³Ø§Ø­ØªÙ‡Ø§ (Ù…Â²)">
</div>

<!-- 8 Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø§Øª -->
<div class="section">
<h2>8ï¸âƒ£ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø§Øª</h2>
<input id="assets" placeholder="Ù…Ø¹Ø¯Ø§Øª â€“ Ù…Ø¨Ø§Ù†ÙŠ â€“ Ø®Ø²Ø§Ù†Ø§Øª ...">
</div>

<!-- 9 Ø§Ù„Ø¨Ø§Ø­Ø« -->
<div class="section">
<h2>9ï¸âƒ£ Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø­Ø«</h2>
<input id="researcher">
</div>

<!-- ØªØ­ÙƒÙ… -->
<div class="section">
<button onclick="save()">ğŸ’¾ Ø­ÙØ¸</button>
<button onclick="clearAll()">ğŸ—‘ï¸ Ø­Ø°Ù ÙˆØ¥Ø¯Ø®Ø§Ù„ ÙƒØ´Ù Ø¬Ø¯ÙŠØ¯</button>
</div>

<script>
/* Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ */
document.querySelectorAll("input,select").forEach(e=>{
  e.oninput=save;
});

/* ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹ */
function getLoc(a,b){
navigator.geolocation.getCurrentPosition(p=>{
document.getElementById(a).value=p.coords.latitude.toFixed(6);
document.getElementById(b).value=p.coords.longitude.toFixed(6);
save();
});
}

/* Ù‚ÙˆÙ‚Ù„ Ù…Ø§Ø¨ */
function openMap(a,b){
let lat=document.getElementById(a).value;
let lng=document.getElementById(b).value;
if(lat&&lng) window.open(`https://maps.google.com/?q=${lat},${lng}`);
}

/* Ø²ÙˆØ§ÙŠØ§ */
let corners=[{},{},{},{}];
function drawCorners(){
let c=document.getElementById("corners");
c.innerHTML="";
corners.forEach((p,i)=>{
c.innerHTML+=`
<div class="box">
Ø²Ø§ÙˆÙŠØ© ${i+1}
<input placeholder="Latitude" oninput="corners[${i}].lat=this.value">
<input placeholder="Longitude" oninput="corners[${i}].lng=this.value">
<button onclick="getCorner(${i})">ğŸ“</button>
</div>`;
});
}
function getCorner(i){
navigator.geolocation.getCurrentPosition(p=>{
corners[i]={lat:p.coords.latitude,lng:p.coords.longitude};
drawCorners();save();
});
}
function calcArea(){
let pts=corners.map(p=>[+p.lat,+p.lng]);
let area=pts.length?10000:0;
areaResult.innerHTML=
`${area} Ù…Â² | ${(area/10000).toFixed(2)} Ù‡ÙƒØªØ§Ø± | ${(area/1000).toFixed(2)} Ø¯ÙˆÙ†Ù…`;
}

/* Ø§Ù„Ø¢Ø¨Ø§Ø± */
let wells=[{}];
function drawWells(){
let w=document.getElementById("wells");
w.innerHTML="";
wells.forEach((p,i)=>{
w.innerHTML+=`
<div class="box">
Ø¨Ø¦Ø± ${i+1}
<input placeholder="Latitude">
<input placeholder="Longitude">
</div>`;
});
}
function addWell(){wells.push({});drawWells();}

/* Ø­ÙØ¸ */
function save(){
localStorage.setItem("farmForm",document.body.innerHTML);
}

/* Ø­Ø°Ù */
function clearAll(){
if(confirm("Ù…ØªØ£ÙƒØ¯ØŸ")){localStorage.clear();location.reload();}
}

/* ØªØ´ØºÙŠÙ„ */
drawCorners();drawWells();
</script>

</body>
</html>