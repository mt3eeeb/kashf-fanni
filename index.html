<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>ÙƒØ´Ù ÙÙ†ÙŠ</title>
<style>
body{
  font-family: Tahoma, Arial;
  margin:0;
  padding:15px;
  font-size:11.5px;
  background:#f2f5f3;
}
.container{ max-width:850px; margin:auto; }
/* ===== Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ===== */
.header{
  text-align:center;
  border:2px solid #2e7d32;
  padding:10px;
  margin-bottom:10px;
  background:#fff;
}
.header h1{ margin:0; font-size:18px; color:#2e7d32; }
.header h2{ margin:3px 0; font-size:14px; color:#2e7d32; }
/* ===== Ø§Ù„ØµÙØ­Ø§Øª ===== */
.page{
  margin-bottom:15px;
}
/* ===== Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ===== */
.section{
  border:2px solid #2e7d32;
  background:#fff;
  margin-bottom:10px;
  break-inside: avoid;
  page-break-inside: avoid;
}
.section-title{
  background:#e8f5e9;
  padding:6px 10px;
  font-weight:bold;
  color:#2e7d32;
  border-bottom:2px solid #2e7d32;
}
.section-body{ padding:10px; }
/* ===== Ø§Ù„Ø­Ù‚ÙˆÙ„ ===== */
.row{ display:flex; gap:8px; flex-wrap:wrap; }
.field{ flex:1; min-width:140px; }
label{ font-size:12px; color:#2e7d32; }
input,select{
  width:100%;
  padding:5px;
  font-size:12px;
  border:1px solid #2e7d32;
  border-radius:4px;
}
button{
  background:#2e7d32;
  color:#fff;
  border:none;
  padding:5px 10px;
  border-radius:4px;
  cursor:pointer;
}
/* ===== Ø§Ù„Ø·Ø¨Ø§Ø¹Ø© ===== */
@media print{
  body{ padding:0; background:#fff; }
  button{ display:none !important; }
  .page{ page-break-after:always; }
  .page:last-child{ page-break-after:auto; }
}
</style>
</head>
<body>
<div class="container">
<div class="header">
  <h1>ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø²Ø±Ø§Ø¹ÙŠØ©</h1>
  <h2>Ù…ÙƒØªØ¨ Ù…Ø­Ø§ÙØ¸Ø© Ù‚Ø±ÙŠØ© Ø§Ù„Ø¹Ù„ÙŠØ§</h2>
  <h2>ÙƒØ´Ù ÙÙ†ÙŠ</h2>
</div>
<!-- ================= Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ ================= -->
<div class="page page1">
<!-- ===== Ø¨Ù†Ø¯ 1 : Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø© ===== -->
<div class="section">
  <div class="section-title">1ï¸âƒ£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</div>
  <div class="section-body">
    <div class="row">
      <div class="field">
        <label>Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„</label>
        <input type="text" id="clientName">
      </div>
      <div class="field">
        <label>Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</label>
        <input type="text" id="orderNumber">
      </div>
      <div class="field">
        <label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø²ÙŠØ§Ø±Ø©</label>
        <input type="date" id="visitDate">
      </div>
    </div>
  </div>
</div>
<!-- ===== Ø¨Ù†Ø¯ 2 : Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„ ===== -->
<div class="section">
  <div class="section-title">2ï¸âƒ£ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø³Ø¬Ù„</div>
  <div class="section-body">
    <div class="row">
      <div class="field">
        <label>Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶ (Latitude)</label>
        <input type="text" id="recordLat" placeholder="Ù…Ø«Ø§Ù„: 27.90670">
      </div>
      <div class="field">
        <label>Ø®Ø· Ø§Ù„Ø·ÙˆÙ„ (Longitude)</label>
        <input type="text" id="recordLng" placeholder="Ù…Ø«Ø§Ù„: 47.65737">
      </div>
    </div>
    <br>
    <button type="button" onclick="openRecordMap()">ğŸ“ Ø§Ù„ÙˆØµÙˆÙ„ Ø¹Ø¨Ø± Google Maps</button>
  </div>
</div>
<!-- ===== Ø¨Ù†Ø¯ 3 : Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø¨ÙˆØ§Ø¨Ø© ===== -->
<div class="section">
  <div class="section-title">3ï¸âƒ£ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø¨ÙˆØ§Ø¨Ø©</div>
  <div class="section-body">
    <div class="row">
      <div class="field">
        <label>Ø®Ø· Ø§Ù„Ø¹Ø±Ø¶ (Latitude)</label>
        <input type="text" id="gateLat" placeholder="Ù…Ø«Ø§Ù„: 27.90670">
      </div>
      <div class="field">
        <label>Ø®Ø· Ø§Ù„Ø·ÙˆÙ„ (Longitude)</label>
        <input type="text" id="gateLng" placeholder="Ù…Ø«Ø§Ù„: 47.65737">
      </div>
    </div>
    <br>
    <button type="button" onclick="openGateMap()">ğŸ“ Ø§Ù„ÙˆØµÙˆÙ„ Ø¹Ø¨Ø± Google Maps</button>
    <button type="button" onclick="getGateLocation()">ğŸ§­ Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ</button>
  </div>
</div>
<script>
/* ===== Ø¨Ù†Ø¯ 2 ===== */
function openRecordMap(){
  const lat = document.getElementById("recordLat").value.trim();
  const lng = document.getElementById("recordLng").value.trim();
  if(!lat || !lng){
    alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø©");
    return;
  }
  window.open("https://www.google.com/maps?q=" + lat + "," + lng, "_blank");
}
/* ===== Ø¨Ù†Ø¯ 3 ===== */
function openGateMap(){
  const lat = document.getElementById("gateLat").value.trim();
  const lng = document.getElementById("gateLng").value.trim();
  if(!lat || !lng){
    alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø©");
    return;
  }
  window.open("https://www.google.com/maps?q=" + lat + "," + lng, "_blank");
}
function getGateLocation(){
  if(!navigator.geolocation){
    alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹");
    return;
  }
  navigator.geolocation.getCurrentPosition(
    pos => {
      document.getElementById("gateLat").value = pos.coords.latitude.toFixed(6);
      document.getElementById("gateLng").value = pos.coords.longitude.toFixed(6);
    },
    () => {
      alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹");
    }
  );
}
</script><!-- ===== Ø¨Ù†Ø¯ 4 : Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø£Ø±Ø¶ ===== -->
<div class="section">
  <div class="section-title">4ï¸âƒ£ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø£Ø±Ø¶</div>
  <div class="section-body">
    <div id="points-container"></div>
    <br>
    <button type="button" onclick="addPoint()">â• Ø¥Ø¶Ø§ÙØ© Ø²Ø§ÙˆÙŠØ©</button>
    <button type="button" onclick="calculate()">ğŸ“ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø­Ø©</button>
    <div id="result" style="margin-top:15px;"></div>
  </div>
</div>
<script>
const R = 6378137;
/* Ø¯Ø±Ø¬Ø§Øª â†’ Ø±Ø§Ø¯ÙŠØ§Ù† */
function toRad(d){ return d * Math.PI / 180; }
/* Ù…Ø³Ø§ÙØ© Ø¬ÙŠÙˆØ°ÙŠØ³ÙŠØ© Ø¯Ù‚ÙŠÙ‚Ø© */
function haversine(lat1, lon1, lat2, lon2){
  const dLat = toRad(lat2-lat1);
  const dLon = toRad(lon2-lon1);
  const a =
    Math.sin(dLat/2)**2 +
    Math.cos(toRad(lat1))*Math.cos(toRad(lat2))*
    Math.sin(dLon/2)**2;
  return 2 * R * Math.asin(Math.sqrt(a));
}
function addPoint(){
  const c = document.getElementById("points-container");
  const index = c.children.length + 1;
  c.insertAdjacentHTML("beforeend", `
    <div class="row point-row" style="margin-bottom:8px;">
      <div class="field">
        <label>P${index} Latitude</label>
        <input type="number" step="any" class="lat">
      </div>
      <div class="field">
        <label>P${index} Longitude</label>
        <input type="number" step="any" class="lon">
      </div>
      <div class="field" style="flex:0;">
        <label>&nbsp;</label>
        <button type="button" onclick="removePoint(this)">â–</button>
      </div>
    </div>
  `);
}
function removePoint(btn){
  btn.closest(".point-row").remove();
  renumber();
}
function renumber(){
  document.querySelectorAll(".point-row").forEach((row,i)=>{
    row.querySelector("label").innerText = `P${i+1} Latitude`;
    row.querySelectorAll("label")[1].innerText = `P${i+1} Longitude`;
  });
}
function calculate(){
  const lats = [...document.querySelectorAll(".lat")];
  const lons = [...document.querySelectorAll(".lon")];
  if(lats.length < 4){
    alert("Ø£Ø¯Ø®Ù„ 4 Ø²ÙˆØ§ÙŠØ§ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");
    return;
  }
  let dists = [];
  for(let i=0;i<lats.length;i++){
    let j = (i+1)%lats.length;
    dists.push(
      haversine(
        +lats[i].value, +lons[i].value,
        +lats[j].value, +lons[j].value
      )
    );
  }
  /* Ù†ÙØªØ±Ø¶ Ù…Ø³ØªØ·ÙŠÙ„: Ø¶Ù„Ø¹ÙŠÙ† Ù‚ØµØ§Ø± + Ø¶Ù„Ø¹ÙŠÙ† Ø·ÙˆØ§Ù„ */
  const sorted = [...dists].sort((a,b)=>a-b);
  const width  = (sorted[0] + sorted[1]) / 2;
  const length = (sorted[2] + sorted[3]) / 2;
  const area = width * length;
  let html = "<strong>Ø£Ø·ÙˆØ§Ù„ Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹:</strong><br>";
  dists.forEach((d,i)=>{
    html += `P${i+1} â†’ P${(i+2>lats.length)?1:i+2}: ${d.toFixed(2)} Ù…<br>`;
  });
  html += `
    <br><strong>Ø§Ù„Ù…Ø³Ø§Ø­Ø©:</strong><br>
    ${area.toFixed(2)} Ù…Â²<br>
    ${(area/1000).toFixed(2)} Ø¯ÙˆÙ†Ù…<br>
    ${(area/10000).toFixed(2)} Ù‡ÙƒØªØ§Ø±
  `;
  document.getElementById("result").innerHTML = html;
}
</script><!-- ===== Ø¨Ù†Ø¯ 5 : Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø¢Ø¨Ø§Ø± ===== -->
<div class="section">
  <div class="section-title">5ï¸âƒ£ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø§Ù„Ø¢Ø¨Ø§Ø±</div>
  <div class="section-body">
    <div id="wellsContainer"></div>
    <button type="button" onclick="addWell()">â• Ø¥Ø¶Ø§ÙØ© Ø¨Ø¦Ø±</button>
  </div>
</div>
<script>
function addWell(){
  const c = document.getElementById("wellsContainer");
  c.insertAdjacentHTML("beforeend", `
    <div class="row" style="margin-bottom:12px; align-items:end;">
      <div class="field">
        <label>Latitude</label>
        <input type="number" step="any" class="wellLat" placeholder="Ù…Ø«Ø§Ù„: 27.906700">
      </div>
      <div class="field">
        <label>Longitude</label>
        <input type="number" step="any" class="wellLng" placeholder="Ù…Ø«Ø§Ù„: 47.657370">
      </div>
      <div class="field" style="flex:0; display:flex; gap:5px;">
        <button type="button" onclick="locateWell(this)">ğŸ“</button>
        <button type="button" onclick="openWellMap(this)">ğŸ—ºï¸</button>
        <button type="button" onclick="removeWell(this)">â–</button>
      </div>
    </div>
  `);
}
function removeWell(btn){
  btn.closest('.row').remove();
}
function locateWell(btn){
  if(!navigator.geolocation){
    alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹");
    return;
  }
  navigator.geolocation.getCurrentPosition(
    pos => {
      const row = btn.closest('.row');
      row.querySelector('.wellLat').value = pos.coords.latitude.toFixed(6);
      row.querySelector('.wellLng').value = pos.coords.longitude.toFixed(6);
    },
    () => {
      alert("Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹");
    },
    {
      enableHighAccuracy: true,
      timeout: 15000,
      maximumAge: 0
    }
  );
}
function openWellMap(btn){
  const row = btn.closest('.row');
  const lat = row.querySelector('.wellLat').value.trim();
  const lng = row.querySelector('.wellLng').value.trim();
  if(!lat || !lng){
    alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ø£ÙˆÙ„Ø§Ù‹");
    return;
  }
  window.open(
    `https://www.google.com/maps?q=${lat},${lng}`,
    "_blank"
  );
}
</script><!-- Ø¨Ù†Ø¯ 6 : Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠ -->
<div class="section">
  <div class="section-title">6ï¸âƒ£ Ù†Ø¸Ø§Ù… Ø§Ù„Ø±ÙŠ</div>
  <div class="section-body">
    <div id="irrigationContainer"></div>
    <button type="button" onclick="addIrrigation()">â• Ø¥Ø¶Ø§ÙØ© Ù†Ø¸Ø§Ù… Ø±ÙŠ</button>
  </div>
</div>
<script>
let irrigationIndex = 0;
function handleIrrigation(el) {
  const box = el.closest('.irrigationBox');
  box.querySelector('.sprinklerBox').style.display = 'none';
  box.querySelector('.dripBox').style.display = 'none';
  box.querySelector('.floodBox').style.display = 'none';
  if (el.value === 'sprinkler') box.querySelector('.sprinklerBox').style.display = 'block';
  if (el.value === 'drip') box.querySelector('.dripBox').style.display = 'block';
  if (el.value === 'flood') box.querySelector('.floodBox').style.display = 'block';
}
/* ===== Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª (Ù„Ù… ØªÙÙ…Ø³) ===== */
function calcSprinkler(el) {
  const box = el.closest('.irrigationBox');
  const count = +box.querySelector('.towerCount').value;
  const length = +box.querySelector('.towerLength').value;
  if (!count || !length) return;
  const radius = count * length;
  const area = Math.PI * radius * radius;
  showResult(area, box.querySelector('.sprinklerResult'));
}
function calcDrip(el) {
  const box = el.closest('.irrigationBox');
  const l = +box.querySelector('.dripLength').value;
  const w = +box.querySelector('.dripWidth').value;
  if (!l || !w) return;
  showResult(l * w, box.querySelector('.dripResult'));
}
function calcFlood(el) {
  const area = +el.value;
  if (!area) return;
  const box = el.closest('.irrigationBox');
  showResult(area, box.querySelector('.floodResult'));
}
function showResult(area, target) {
  target.innerHTML = `
    <p><strong>Ø§Ù„Ù…Ø³Ø§Ø­Ø©:</strong></p>
    <p>${area.toLocaleString(undefined,{maximumFractionDigits:2})} Ù…Â²</p>
    <p>${(area/10000).toFixed(2)} Ù‡ÙƒØªØ§Ø±</p>
    <p>${(area/1000).toFixed(2)} Ø¯ÙˆÙ†Ù…</p>
  `;
}
function handleIrrigationCrop(el) {
  const box = el.closest('.irrigationBox');
  const note = box.querySelector('.irrigationCropNote');
  note.style.display =
    (el.value === 'fodder' || el.value === 'vegetables' || el.value === 'other')
      ? 'block'
      : 'none';
}
/* ===== Ø¥Ø¶Ø§ÙØ© / Ø­Ø°Ù ===== */
function addIrrigation() {
  irrigationIndex++;
  document.getElementById('irrigationContainer').insertAdjacentHTML('beforeend', `
    <div class="irrigationBox" style="border:1px solid #ccc; padding:10px; margin-bottom:15px;">
      <h4>Ù†Ø¸Ø§Ù… Ø±ÙŠ Ø±Ù‚Ù… ${irrigationIndex}</h4>
      <label>Ù†ÙˆØ¹ Ø§Ù„Ø±ÙŠ</label>
      <select class="irrigationType" onchange="handleIrrigation(this)">
        <option value="">Ø§Ø®ØªØ±</option>
        <option value="sprinkler">Ø±Ø´Ø§Ø´</option>
        <option value="drip">ØªÙ†Ù‚ÙŠØ·</option>
        <option value="flood">ØºÙ…Ø±</option>
      </select>
      <div class="sprinklerBox" style="display:none; margin-top:10px;">
        <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø¨Ø±Ø§Ø¬</label>
        <input type="number" class="towerCount" oninput="calcSprinkler(this)">
        <label>Ø·ÙˆÙ„ Ø§Ù„Ø¨Ø±Ø¬ (Ù…)</label>
        <input type="number" class="towerLength" oninput="calcSprinkler(this)">
        <div class="sprinklerResult"></div>
      </div>
      <div class="dripBox" style="display:none; margin-top:10px;">
        <label>Ø§Ù„Ø·ÙˆÙ„ (Ù…)</label>
        <input type="number" class="dripLength" oninput="calcDrip(this)">
        <label>Ø§Ù„Ø¹Ø±Ø¶ (Ù…)</label>
        <input type="number" class="dripWidth" oninput="calcDrip(this)">
        <div class="dripResult"></div>
      </div>
      <div class="floodBox" style="display:none; margin-top:10px;">
        <label>Ø§Ù„Ù…Ø³Ø§Ø­Ø© (Ù…Â²)</label>
        <input type="number" class="floodArea" oninput="calcFlood(this)">
        <div class="floodResult"></div>
      </div>
      <hr>
      <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø²Ø±ÙˆØ¹</label>
      <select class="irrigationCrop" onchange="handleIrrigationCrop(this)">
        <option value="">Ø§Ø®ØªØ±</option>
        <option value="wheat">Ù‚Ù…Ø­</option>
        <option value="fodder">Ø£Ø¹Ù„Ø§Ù Ø®Ø¶Ø±Ù‡</option>
        <option value="vegetables">Ø®Ø¶Ø§Ø±</option>
        <option value="other">Ø¢Ø®Ø±</option>
      </select>
      <div class="irrigationCropNote" style="display:none; margin-top:8px;">
        <label>ÙˆØµÙ Ø§Ù„Ù…Ø²Ø±ÙˆØ¹</label>
        <input type="text">
      </div>
      <button type="button" onclick="removeIrrigation(this)">â– Ø­Ø°Ù</button>
    </div>
  `);
}
function removeIrrigation(btn) {
  btn.closest('.irrigationBox').remove();
}
</script><!-- Ø¨Ù†Ø¯ 7 : Ø§Ù„Ù…Ø²Ø±ÙˆØ¹Ø§Øª -->
<div class="section">
  <div class="section-title">7ï¸âƒ£ Ø§Ù„Ù…Ø²Ø±ÙˆØ¹Ø§Øª</div>
  <div class="section-body">
    <div id="plantsContainer"></div>
    <button type="button" onclick="addPlant()">â• Ø¥Ø¶Ø§ÙØ© Ù…Ø²Ø±ÙˆØ¹Ø§Øª</button>
  </div>
</div>
<script>
let plantIndex = 0;
function handlePlantType(el) {
  const box = el.closest('.plantBox');
  const note = box.querySelector('.plantNote');
  const v = el.value;
  note.style.display = (v === 'citrus' || v === 'other') ? 'block' : 'none';
}
function calcPlant(el) {
  const box = el.closest('.plantBox');
  const count = +box.querySelector('.plantCount').value;
  const spacing = +box.querySelector('.plantSpacing').value;
  if (!count || !spacing) return;
  const area = count * spacing;
  const donum = area / 1000;
  const hectare = area / 10000;
  box.querySelector('.plantResult').innerHTML = `
    <p><strong>Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠØ©:</strong></p>
    <p>${area.toLocaleString()} Ù…Â²</p>
    <p>${donum.toFixed(2)} Ø¯ÙˆÙ†Ù…</p>
    <p>${hectare.toFixed(2)} Ù‡ÙƒØªØ§Ø±</p>
  `;
}
function addPlant() {
  plantIndex++;
  document.getElementById('plantsContainer').insertAdjacentHTML('beforeend', `
    <div class="plantBox" style="margin-bottom:15px; border:1px solid #ccc; padding:10px;">
      <h4>Ù…Ø²Ø±ÙˆØ¹Ø§Øª Ø±Ù‚Ù… ${plantIndex}</h4>
      <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø²Ø±ÙˆØ¹</label>
      <select class="plantType" onchange="handlePlantType(this)">
        <option value="">Ø§Ø®ØªØ±</option>
        <option value="palm">Ù†Ø®ÙŠÙ„</option>
        <option value="wind">Ù…ØµØ¯Ø§Øª Ø±ÙŠØ§Ø­</option>
        <option value="citrus">Ø­Ù…Ø¶ÙŠØ§Øª</option>
        <option value="other">Ø¢Ø®Ø±</option>
      </select>
      <div class="plantNote" style="display:none; margin-top:8px;">
        <label>ÙˆØµÙ Ø§Ù„Ù…Ø²Ø±ÙˆØ¹</label>
        <input type="text">
      </div>
      <label>Ù…Ø³Ø§ÙØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø©</label>
      <select class="plantSpacing" onchange="calcPlant(this)">
        <option value="">Ø§Ø®ØªØ±</option>
        <option value="49">7 Ã— 7 Ù…ØªØ±</option>
        <option value="64">8 Ã— 8 Ù…ØªØ±</option>
        <option value="100">10 Ã— 10 Ù…ØªØ±</option>
      </select>
      <label>Ø¹Ø¯Ø¯ Ø§Ù„Ø´ØªÙ„Ø§Øª</label>
      <input type="number" class="plantCount" oninput="calcPlant(this)">
      <div class="plantResult" style="margin-top:10px;"></div>
      <button type="button" onclick="removePlant(this)">â– Ø­Ø°Ù</button>
    </div>
  `);
}
function removePlant(btn) {
  btn.closest('.plantBox').remove();
}
</script><!-- Ø¨Ù†Ø¯ 8 : Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø§Øª -->
<div class="section">
  <div class="section-title">8ï¸âƒ£ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø§Øª</div>
  <div class="section-body">
    <!-- ================= Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ø¨ØªÙ‡ ================= -->
    <h4>1- Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ø¨ØªÙ‡ </h4>
    <div id="buildingsContainer"></div>
    <button type="button" onclick="addBuilding()">â• Ø¥Ø¶Ø§ÙØ© Ù…Ø¨Ù†Ù‰</button>
    <hr>
    <!-- ================= Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø¦Ø± ================= -->
    <h4>2- Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø¦Ø±</h4>
    <div id="wellAssetsContainer"></div>
    <button type="button" onclick="addWellAsset()">â• Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¬ÙˆØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø¦Ø±</button>
    <hr>
    <!-- ================= Ø£Ø®Ø±Ù‰ ================= -->
    <h4>3- Ø£Ø®Ø±Ù‰</h4>
    <div id="otherAssetsContainer"></div>
    <button type="button" onclick="addOtherAsset()">â• Ø¥Ø¶Ø§ÙØ© Ø¢Ø®Ø±</button>
  </div>
</div>
<script>
/* ===== Ø¹Ù†Ø§ØµØ± Ù…Ø´ØªØ±ÙƒØ© ===== */
function removeBox(btn) {
  btn.closest('.assetBox').remove();
}
function handleAsset(select) {
  const box = select.closest('.assetBox');
  const note = box.querySelector('.assetNote');
  if (note) note.style.display = select.value ? 'block' : 'none';
}
/* ===== Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ Ø§Ù„Ø«Ø§Ø¨ØªÙ‡ ===== */
function addBuilding() {
  document.getElementById('buildingsContainer').insertAdjacentHTML('beforeend', `
    <div class="assetBox" style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
      <label>Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¨Ù†Ù‰</label>
      <select onchange="handleAsset(this)">
        <option value="">Ø§Ø®ØªØ±</option>
        <option>Ø³ÙƒÙ† Ø¹Ù…Ø§Ù„</option>
        <option>Ø­Ø¸Ø§Ø± Ø§ØºÙ†Ø§Ù…</option>
        <option>Ù…Ø³ØªÙˆØ¯Ø¹</option>
        <option>Ø®Ø²Ø§Ù† Ù…Ø§Ø¡</option>
        <option value="other">Ø¢Ø®Ø±</option>
      </select>
      <div class="plantNote" style="display:none; margin-top:8px;">
        <label>ÙˆØµÙ Ø§Ù„Ù…Ø²Ø±ÙˆØ¹</label>
        <input type="text">
      </div>
      </select>
      <div class="assetNote" style="display:none; margin-top:8px;">
        <label>ÙˆØµÙ / Ù…Ù„Ø§Ø­Ø¸Ø§Øª</label>
        <input type="text" placeholder="Ù…Ø«Ø§Ù„: Ø¹Ø¯Ø¯ Ø§Ù„ØºØ±ÙØŒ Ø§Ù„Ø³Ø¹Ø©ØŒ Ø§Ù„Ø­Ø§Ù„Ø©">
      </div>
      <button type="button" onclick="removeBox(this)">â– Ø­Ø°Ù</button>
    </div>
  `);
}
/* ===== Ù…ÙˆØ¬ÙˆØ¯Ø§Øª Ø§Ù„Ø¨Ø¦Ø± ===== */
function addWellAsset() {
  document.getElementById('wellAssetsContainer').insertAdjacentHTML('beforeend', `
    <div class="assetBox" style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
      <label>Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯</label>
      <select onchange="handleAsset(this)">
        <option value="">Ø§Ø®ØªØ±</option>
        <option>Ø±Ø£Ø³ ÙƒÙ‡Ø±Ø¨</option>
        <option>ØºØ·Ø§Ø³</option>
        <option>Ù…ÙƒÙŠÙ†Ø© + Ø·Ø±Ù…Ø¨Ø©</option>
        <option value="other">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø¯Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø¦Ø±</option>
      </select>
      <div class="assetNote" style="display:none; margin-top:8px;">
        <label>Ø§Ù„Ø¹Ù…Ù‚(Ù‚Ø¯Ù…)</label>
        <input type="text" placeholder=>
        <label>Ø§Ù„Ù‡ÙˆØ§Ø¡(Ù‚Ø¯Ù…)</label>
        <input type="text" placeholder=>
        <label>Ø§Ù„Ù‚Ø·Ø±(Ø¨ÙˆØµØ©)</label>
        <input type="text" placeholder=>
        <label>Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ø¦Ø±</label>
        <input type="text" placeholder=>
        </select>
      <button type="button" onclick="removeBox(this)">â– Ø­Ø°Ù</button>
    </div>
  `);
}
/* ===== Ø£Ø®Ø±Ù‰ ===== */
function addOtherAsset() {
  document.getElementById('otherAssetsContainer').insertAdjacentHTML('beforeend', `
    <div class="assetBox" style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
      <label>ÙˆØµÙ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯</label>
      <input type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ØªÙØµÙŠÙ„">
      <button type="button" onclick="removeBox(this)">â– Ø­Ø°Ù</button>
    </div>
  `);
}
</script><!-- ===== Ø¨Ù†Ø¯ 9 ===== -->
  <div class="section">
    <div class="section-title">9ï¸âƒ£ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ø§Ø­Ø«</div>
    <div class="section-body">
      <label>Ø§Ø³Ù… Ø§Ù„Ø¨Ø§Ø­Ø«</label>
      <input id="researcherName">
      <button onclick="printPDF()">ğŸ–¨ Ø·Ø¨Ø§Ø¹Ø©</button>
    </div>
  </div>
</div>
</div>
<!-- ================= Ø§Ù„Ø³ÙƒØ±Ø¨Øª ================= -->
<script>
function openMap(latId,lngId){
  const lat=document.getElementById(latId).value;
  const lng=document.getElementById(lngId).value;
  if(!lat||!lng){alert("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª");return;}
  window.open(`https://www.google.com/maps?q=${lat},${lng}`,'_blank');
}
function printPDF(){window.print();}
function saveForm(){
  localStorage.setItem("farmForm",document.body.innerHTML);
  alert("ØªÙ… Ø§Ù„Ø­ÙØ¸");
}
function clearForm(){
  if(confirm("Ø­Ø°Ù Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ØŸ")){
    localStorage.removeItem("farmForm");
    location.reload();
  }
}
function newForm(){
  if(confirm("ØªÙØ±ÙŠØº Ø§Ù„Ø­Ù‚ÙˆÙ„ØŸ")){
    document.querySelectorAll("input,select,textarea")
    .forEach(e=>e.value="");
  }
}
</script><script>
window.addEventListener("load", ()=>{
  const saved = localStorage.getItem("kashfFanniData");
  if(!saved) return;

  const data = JSON.parse(saved);
  Object.keys(data).forEach(id=>{
    const el = document.getElementById(id);
    if(el) el.value = data[id];
  });
});
</script> <button onclick="clearAll()">ğŸ—‘ Ø­Ø°Ù Ø§Ù„Ù†Ù…ÙˆØ°Ø¬</button>

<script>
function clearAll(){
  if(confirm("Ù…ØªØ£ÙƒØ¯ ØªØ­Ø°Ù ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ")){
    localStorage.removeItem("kashfFanniData");
    location.reload();
  }
}
</script>
</body>
</html>
</body>
</html>
